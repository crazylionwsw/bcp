<div class="form-group pull-in clearfix">
    <!--显示本单据所有的档案类型-->
    <div class="col-md-3 col-xs-6"  ng-repeat="imageType in imagetypes">
        <div class="thumbnail" tooltip="{{imageType.name}}">
            <span class="pos-abt pull-right-xs">
                <label class="i-checks m-b-none">
                    <input type="checkbox" ng-model="imageType.selected" ng-click="selectImageType($event, imageType)"/><i></i>
                </label>
            </span>
            <!--如果该档案类型已经上传过图片-->
            <div ng-if="imageType.customerImage != null && imageType.customerImage.fileIds != null && imageType.customerImage.fileIds.length > 0">

                <element ng-if="isVideo(imageType)">
                    <video style="width:100%;height:160px;" controls="controls" ng-src="{{imageType.customerImage.coverFileId|imgsrc}}"/>
                </element>

                <element ng-if="isPDF(imageType)">
                    <a ng-click="viewPDF(imageType.customerImage.coverFileId)">
                        <img ng-src="img/pdf.png" class="img-responsive" style="height:160px;" />
                    </a>
                </element>

                <a ng-click="openViewer(imageType)" ng-if="!isVideo(imageType) && !isPDF(imageType)">
                    <img ng-src="{{imageType.customerImage.coverFileId|imgsrc}}" class="img-responsive" style="height:160px;" />
                </a>
            </div>
            <!--如果该档案类型没有上传过图片，显示默认图片-->
            <div ng-if="imageType.customerImage == null || imageType.customerImage.fileIds == null || imageType.customerImage.fileIds.length ==0">
                <!--加载该档案类型下的所有图片-->
                <!--只显示第一张图片做为封面-->
                <!--其它图片用lightbox打开，进行轮播-->
                <a><img ng-src="img/p0.jpg" class="img-responsive" style="height:160px;"/></a>
            </div>
            <div class="caption bg-white-opacity text-center text-ellipsis">
                <!--显示档案类型的名称-->
                {{imageType.name}}
            </div>
        </div>
    </div>
</div>

<div class="hidden" id="customerImages">
    <element ng-repeat="fileId in customerImage.customerImage.fileIds">
        <img data-original="{{fileId|imgsrc}}" ng-src="{{fileId|imgsrc}}" alt="{{type.name}}"/>
    </element>
    <img ng-src="img/p0.jpg" class="img-responsive img-placeholder"/>
</div>
<!------输入对话框------>
<script type="text/ng-template" id="supply.html">
    <div class="panel panel-default m-b-none">
        <div class="panel-heading">
            <span class="h4">备注信息</span>
        </div>
        <div class="panel-body">
            <div class="form-group">
                <textarea class="form-control" rows="6" placeholder="输入资料补全说明" ng-model="signinfo.comment" name="comment"></textarea>
            </div>
        </div>
        <footer class="panel-footer text-right bg-light lter">
            <button class="btn btn-primary" type="button"  ng-click="supply()">提 交</button>
            <button class="btn btn-warning" type="button" ng-click="cancel()">取 消</button>
        </footer>
    </div>
</script>

